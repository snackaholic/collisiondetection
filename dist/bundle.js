(()=>{"use strict";var t={180:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Canvas=void 0;var n=e(135),o=e(482),r=function(){function t(t,i){this.domConfig=t,this.items=i,this.placeCanvas(),this.drawItems()}return t.prototype.flipDirection=function(t){t.getDirection()!==o.Direction.Up?t.getDirection()!==o.Direction.Down?t.getDirection()!==o.Direction.Left?t.getDirection()!==o.Direction.Right||t.setDirection(o.Direction.Left):t.setDirection(o.Direction.Right):t.setDirection(o.Direction.Up):t.setDirection(o.Direction.Down)},t.prototype.handleCollision=function(t,i){this.flipDirection(t),this.flipDirection(i)},t.prototype.calculateCollisions=function(){for(var t=[],i=0;i<this.items.length;i++){var e=this.items[i];if(e.collideable())for(var o=0;o<this.items.length;o++){for(var r=!1,s=0;s<t.length;s++){var a=t[s];(a.index1==i&&a.index2==o||a.index1==o&&a.index2==i)&&(r=!0)}if(o!=i&&!r){var c=this.items[o];if(!c.collideable())continue;(0,n.doCanvasItemsCollide)(e,c)&&(t.push({index1:i,index2:o}),this.handleCollision(e,c))}}}},t.prototype.update=function(t){this.items.forEach((function(i){return i.update(t)}))},t.prototype.calculateEdgeCollision=function(){var t=this;this.items.forEach((function(i){if(i.x<0){var e=i.xEnd-i.x;i.x=0,i.xEnd=0+e,i.setDirection(o.Direction.Right)}if(i.y<0){var n=i.yEnd-i.y;i.y=0,i.yEnd=0+n,i.setDirection(o.Direction.Down)}i.xEnd>t.domConfig.width&&(e=i.xEnd-i.x,i.x=t.domConfig.width-e,i.xEnd=t.domConfig.width,i.setDirection(o.Direction.Left)),i.yEnd>t.domConfig.height&&(n=i.yEnd-i.y,i.y=t.domConfig.height-n,i.yEnd=t.domConfig.height,i.setDirection(o.Direction.Up))}))},t.prototype.placeCanvas=function(){var t=document.createElement("canvas");t.width=this.domConfig.width,t.height=this.domConfig.height,t.id="canvas",document.body.prepend(t),this.self=document.getElementById("canvas"),this.context=this.self.getContext("2d")},t.prototype.clear=function(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.domConfig.width,this.domConfig.height),this.context.restore()},t.prototype.drawItems=function(){var t=this;return this.items.forEach((function(i){return i.draw(t.context)})),!0},t}();i.Canvas=r},268:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Circle=void 0;var n=e(482),o=function(){function t(t){this.x=t.x,this.y=t.y,this.xEnd=t.xEnd,this.yEnd=t.yEnd,this.radius=(this.xEnd-this.x)/2,this.currentDirection=n.Direction.Unset}return t.prototype.collideable=function(){return!0},t.prototype.getType=function(){return n.CanvasDrawableItemTypes.Circle},t.prototype.getDirection=function(){return this.currentDirection},t.prototype.setDirection=function(t){this.currentDirection=t},t.prototype.update=function(t){this.currentDirection!=n.Direction.Unset&&(this.currentDirection===n.Direction.Down&&(this.y+=t,this.yEnd+=t),this.currentDirection===n.Direction.Up&&(this.y-=t,this.yEnd-=t),this.currentDirection===n.Direction.Left&&(this.x-=t,this.xEnd-=t),this.currentDirection===n.Direction.Right&&(this.x+=t,this.xEnd+=t))},t.prototype.draw=function(t){var i=this.xEnd-this.x,e=this.yEnd-this.y;this.radiusX=this.x+i/2,this.radiusY=this.y+e/2,t.beginPath(),t.arc(this.radiusX,this.radiusY,this.radius,0,2*Math.PI,!1),t.stroke(),this.drawRectHitbox&&(t.rect(this.x,this.y,this.xEnd-this.x,this.yEnd-this.y),t.stroke())},t}();i.Circle=o},135:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.doCanvasItemsCollide=void 0;var n=e(482);function o(t){var i=t;return{x:i.x,y:i.y,radius:i.radius,radiusX:i.radiusX,radiusY:i.radiusY}}function r(t){return{width:t.xEnd-t.x,height:t.yEnd-t.y,x:t.x,y:t.y}}i.doCanvasItemsCollide=function(t,i){var e,s,a,c,h,d,u=t.getType(),l=i.getType();return u===n.CanvasDrawableItemTypes.Mouse&&(u=n.CanvasDrawableItemTypes.Rectangle),l===n.CanvasDrawableItemTypes.Mouse&&(l=n.CanvasDrawableItemTypes.Rectangle),u===n.CanvasDrawableItemTypes.Circle&&l===n.CanvasDrawableItemTypes.Circle?(a=o(t),h=(c=o(i)).x-a.x,d=c.y-a.y,Math.sqrt(h*h+d*d)<a.radius+c.radius):(e=r(t),s=r(i),!(e.x>s.x+s.width||e.x+e.width<s.x||e.y>s.y+s.height||e.y+e.height<s.y))}},613:(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Mouse=void 0;var n=e(482),o=function(){function t(){document.addEventListener("mousemove",this.tellPos.bind(this),!1),this.size=50,this.drawRectHitbox=!0}return t.prototype.collideable=function(){return null!=this.x&&null!=this.y},t.prototype.getType=function(){return n.CanvasDrawableItemTypes.Mouse},t.prototype.tellPos=function(t){document.getElementById("info").innerHTML="Position X : "+t.pageX+"<br />Position Y : "+t.pageY,this.x=t.pageX-this.size/2,this.xEnd=this.x+this.size,this.y=t.pageY-this.size/2,this.yEnd=this.y+this.size},t.prototype.draw=function(t){var i=this.xEnd-this.x,e=this.yEnd-this.y,n=this.x+i/2,o=this.y+e/2,r=i/2;this.drawCircle&&(t.beginPath(),t.arc(n,o,r,0,2*Math.PI,!1),t.stroke()),this.drawRectHitbox&&(t.beginPath(),t.rect(this.x,this.y,this.xEnd-this.x,this.yEnd-this.y),t.stroke())},t.prototype.update=function(t){},t.prototype.setDirection=function(t){},t.prototype.getDirection=function(){return n.Direction.Up},t}();i.Mouse=o},482:(t,i)=>{var e,n;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasDrawableItemTypes=i.Direction=void 0,(n=i.Direction||(i.Direction={}))[n.Up=0]="Up",n[n.Down=1]="Down",n[n.Left=2]="Left",n[n.Right=3]="Right",n[n.Unset=4]="Unset",(e=i.CanvasDrawableItemTypes||(i.CanvasDrawableItemTypes={}))[e.Circle=0]="Circle",e[e.Rectangle=1]="Rectangle",e[e.Mouse=2]="Mouse"}},i={};function e(n){var o=i[n];if(void 0!==o)return o.exports;var r=i[n]={exports:{}};return t[n](r,r.exports,e),r.exports}(()=>{var t=e(180),i=e(268),n=e(613),o=e(482);function r(t){return Math.floor(Math.random()*t)}for(var s,a=window.innerHeight,c=window.innerWidth,h=[],d=Math.floor(c/50),u=Math.floor(a/50),l=0;l<d;l++)for(var p=0;p<u;p++){var y;5===r(10)&&((y=new i.Circle({x:50*l,y:50*p,xEnd:50*l+50,yEnd:50*p+50})).setDirection((void 0,0===(s=r(4))?o.Direction.Up:1===s?o.Direction.Down:2===s?o.Direction.Left:3===s?o.Direction.Right:void 0)),h.push(y))}h.push(new n.Mouse),window.outerWidth,window.outerHeight;var f={width:c,height:a},D=new t.Canvas(f,h);window.requestAnimationFrame((function t(i){D.clear(),D.update(2),D.calculateCollisions(),D.calculateEdgeCollision(),D.drawItems(),window.requestAnimationFrame(t)}))})()})();
//# sourceMappingURL=bundle.js.map